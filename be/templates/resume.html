<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CV</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: sans-serif; margin: 2em auto; position: relative;}
        h1 { color: #333; }
        main {
            max-width: 800px;margin: 0 auto; padding: 0 2rem;
        }
        .absolute-btn { position:absolute; top: 0px; right: 2rem}

        @media print {
            @page {
                margin: 0;
            }
            main {
                box-shadow: none;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="py-4">
    <button class="no-print absolute-btn right-1 top-1 font-bold p-2" onclick="window.print()">Download PDF</button>
    <main class="flex flex-col gap-4">
        <section class="flex flex-col gap-2">
            <h1 class="font-normal text-4xl">{{first_name}} {{last_name}}</h1>
            <div class="flex flex-row gap-2">
                <span><i class="fas fa-envelope"></i> {{email}}</span>
                <span><i class="fa-solid fa-phone"></i> {{phone_number}}</span>
            </div>
            <h2 class="text-md">{{description}}</h2>
        </section>
        <hr>
        <section class="flex flex-col gap-2">
            <h3 class="text-2xl font-bold">Stack</h3>
            <p style="text-transform: uppercase; line-height: 150%;">{{profile_stack}}</p>
        </section>
        <hr>
        <section class="flex flex-col gap-2">
            <h3 class="text-2xl font-bold">Experience</h3>
            <ul>
                {% for exp in experiences %}
                <li style="margin-bottom: 8px;">
                    <strong class="capitalize">{{ exp.position }}</strong>
                    <small>
                    {{ exp.starting_date.strftime('%Y-%m-%d') }} - 
                    {% if exp.ending_date %}
                        {{ exp.ending_date.strftime('%Y-%m-%d') }}
                    {% else %}
                        Present
                    {% endif %}
                    </small>
                    {% if exp.description %}
                        <p>Description: {{ exp.description }}</p>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </section>
    </main>
</body>
</html>